(this.webpackJsonpbudget_visualization=this.webpackJsonpbudget_visualization||[]).push([[0],{238:function(e,t,a){},239:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(3),o=a(1),i=a.n(o),c=a(12),s=a.n(c),r=(a(238),a(21)),l=a(18),d=a(22),j=a(25),u=a(24),h=a(469),b=a(471),O=a(470),p=a(476),m=a(477),y=(a(239),a(187)),w=a(472),x=a(36),f=a(57),g=a.n(f),v=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={powiaty:new Map,wojewodztwo:"bla"},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.kodWybranejGminy,a=e.gminaChangeFn,o=this.state.powiaty;return Object(n.jsx)("select",{id:"demo",value:t,onChange:function(e){return a(e.target.value)},children:Array.from(o.entries(),(function(e){var t=Object(x.a)(e,2),a=t[0],o=t[1];return Object(n.jsx)("optgroup",{label:a,children:Array.from(o.gminy.entries(),(function(e){var t=Object(x.a)(e,2),a=t[0],o=t[1];return Object(n.jsx)("option",{value:o,children:a},o)}))},a)}))})}},{key:"common",value:function(){var e=this;if(this.state.wojewodztwo!==this.props.wojewodztwo){var t="/files/"+this.props.wojewodztwo.replaceAll("\u015a","S").replaceAll("\u0104","A").replaceAll("\u0143","N").replaceAll("\u0141","L")+".json";g.a.get(t).then((function(t){var a=new Map;for(var n in t.data)if(t.data.hasOwnProperty(n)){var o=new Map;for(var i in t.data[n])t.data[n].hasOwnProperty(i)&&o.set(i,t.data[n][i]);var c={gminy:o};a.set(n,c)}e.setState(Object.assign({},e.state,{powiaty:a,wojewodztwo:e.props.wojewodztwo}))}))}}},{key:"componentDidMount",value:function(){this.common()}},{key:"componentDidUpdate",value:function(){this.common()}}]),a}(i.a.Component),k=a(467),z=a(468),C=a(461),S=a(463),K=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.dane,t=e.dochody,a=e.wydatki;return Object(n.jsxs)(w.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(C.a,{viewBox:""}),Object(n.jsx)(w.a,{className:"pomaranczowy",children:"Dochody:"}),Object(n.jsx)(w.a,{children:t})]}),Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(S.a,{viewBox:""}),Object(n.jsx)(w.a,{className:"pomaranczowy",children:"Wydatki:"}),Object(n.jsx)(w.a,{children:a})]})]})}}]),a}(i.a.Component),D=a(473),_=a(464),E=a(465),G=a(466),I=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.dotacje_ue,t=e.gmina,a=e.gmina_pc,o=e.powiat,i=e.powiat_pc,c=e.wojewodztwo,s=e.wojewodztwo_pc;return Object(n.jsxs)(w.a,{display:"flex",flexDirection:"column",children:[Object(n.jsx)(w.a,{children:"Dotacje UE od 2014 dla projekt\xf3w realizowanych w:"}),Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(_.a,{viewBox:""}),Object(n.jsx)(w.a,{className:"pomaranczowy",children:"Gminie:"}),"\xa0",Object(n.jsxs)(w.a,{children:[" ",t," (",a," na mieszka\u0144ca)"]})]}),Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(E.a,{viewBox:""}),Object(n.jsx)(w.a,{className:"pomaranczowy",children:"Powiecie:"}),"\xa0",Object(n.jsxs)(w.a,{children:[o," (",i," na mieszka\u0144ca)"]})]}),Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(G.a,{viewBox:""}),Object(n.jsx)(w.a,{className:"pomaranczowy",children:"Wojew\xf3dztwie:"}),"\xa0",Object(n.jsxs)(w.a,{children:[c," (",s," na mieszka\u0144ca)"]})]})]})}}]),a}(i.a.Component),A=a(17),M=a(95),N=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={dane:[],kodGus:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.dane;return console.log(e),Object(n.jsxs)(w.a,{children:[Object(n.jsx)(w.a,{children:"Etaty nauczycielskie wg rodzaju szko\u0142y:"}),Object(n.jsxs)(A.f,{width:530,height:250,data:e,margin:{top:5,right:15,left:10,bottom:5},children:[Object(n.jsx)(A.a,{strokeDasharray:"5 5"}),Object(n.jsx)(A.i,{dataKey:"rok"}),Object(n.jsx)(A.j,{}),Object(n.jsx)(A.d,{}),Object(n.jsx)(A.e,{type:"monotone",dataKey:"podstawowe",stroke:"#8884d8",children:Object(n.jsx)(A.c,{dataKey:"podstawowe",position:"top"})}),Object(n.jsx)(A.e,{type:"monotone",dataKey:"gimnazja",stroke:"#0884d8",children:Object(n.jsx)(A.c,{dataKey:"gimnazja",position:"top"})}),Object(n.jsx)(A.e,{type:"monotone",dataKey:"zawodowe",stroke:"#080408",children:Object(n.jsx)(A.c,{dataKey:"zawodowe",position:"top"})}),Object(n.jsx)(A.e,{type:"monotone",dataKey:"licea",stroke:"#82ca9d",children:Object(n.jsx)(A.c,{dataKey:"licea",position:"top"})})]})]})}},{key:"common",value:function(){var e=this,t={377896:"podstawowe",378306:"zawodowe",378248:"gimnazja",378626:"licea"},a=this.props.kodGus;if(console.log(this.state.kodGus),console.log(this.props.kodGus),this.state.kodGus!==a){console.log(a);var n="https://bdl.stat.gov.pl/api/v1/data/by-unit/"+a+"?lang=pl";for(var o in t)n+="&var-id="+o;console.log(n);var i=[{rok:2015},{rok:2016},{rok:2017},{rok:2018},{rok:2019}];g.a.get(n).then((function(a){var n,o=Object(M.a)(a.data.results);try{for(o.s();!(n=o.n()).done;){var c=n.value;console.log(c);var s,r=Object(M.a)(c.values);try{for(r.s();!(s=r.n()).done;){var l,d=s.value,j=Object(M.a)(i);try{for(j.s();!(l=j.n()).done;){var u=l.value;u.rok===Number.parseInt(d.year)&&(u[t[c.id]]=d.val)}}catch(h){j.e(h)}finally{j.f()}}}catch(h){r.e(h)}finally{r.f()}}}catch(h){o.e(h)}finally{o.f()}console.log(i),e.setState(Object.assign({},e.state,{dane:i,kodGus:e.props.kodGus}))}))}}},{key:"componentDidMount",value:function(){this.common()}},{key:"componentDidUpdate",value:function(){this.common()}}]),a}(i.a.Component),F=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={budzet:{dochody:"0",wydatki:"0",dochody_kierunek:"-",dochody_zmiana:-1,wydatki_kierunek:"-",wydatki_zmiana:-1},gospodarka_odpadami_komunalnymi:{dochody:"0",wydatki:"0",dochody_kierunek:"-",dochody_zmiana:-1,wydatki_kierunek:"-",wydatki_zmiana:-1},dotacje_ue:{gmina:"",gmina_pc:"",powiat:"",powiat_pc:"",wojewodztwo:"",wojewodztwo_pc:""},children:[{name:"test",value:123}]},n}return Object(l.a)(a,[{key:"renderBudzet",value:function(e){var t;return(null===(t=this.props.selected)||void 0===t?void 0:t.indexOf("budzet"))>-1?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(w.a,{className:"intro",children:["Bud\u017cet za rok ",Object(n.jsx)("strong",{children:"2019"})]}),Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(k.a,{fontSize:"large",className:"icon",viewBox:""}),Object(n.jsx)(K,{dane:e})]}),Object(n.jsx)("br",{})]}):""}},{key:"renderSmieci",value:function(e){var t;return(null===(t=this.props.selected)||void 0===t?void 0:t.indexOf("smieci"))>-1?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(w.a,{className:"intro",children:"Gospodarka Odpadami Komunalnymi"}),Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(z.a,{fontSize:"large",className:"icon",viewBox:""}),Object(n.jsx)(K,{dane:e})]}),Object(n.jsx)("br",{})]}):""}},{key:"render",value:function(){var e=this.state,t=e.gmina,a=e.kod_gus,o=e.ludnosc,c=e.gospodarka_odpadami_komunalnymi,s=e.budzet,r=e.dotacje_ue,l=e.children,d=this.props,j=d.cytat,u=d.autor,h=d.selected,b=d.liczbaDzialow,O=Number.parseInt(b||"10")||10,p=["#0088FE","#00C49F","#778888","#FF8042","#FFFF33"];return Object(n.jsx)(D.b,{injectFirst:!0,children:Object(n.jsx)("div",{id:"main_section",children:Object(n.jsxs)(w.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)(w.a,{className:"intro",children:[t," (",o," mieszka\u0144c\xf3w)"]}),Object(n.jsx)("br",{}),""!==j?Object(n.jsx)(w.a,{className:"intro",children:Object(n.jsx)("i",{children:j})}):"",""!==u?Object(n.jsxs)(w.a,{className:"autor",children:[u,"\xa0\xa0\xa0\xa0\xa0\xa0"]}):"",Object(n.jsx)("br",{}),this.renderBudzet(s),this.renderSmieci(c),(null===h||void 0===h?void 0:h.indexOf("dotacje_ue"))>-1?Object(n.jsx)(I,{dotacje_ue:r}):Object(n.jsx)(i.a.Fragment,{}),(null===h||void 0===h?void 0:h.indexOf("dzialy"))>-1?Object(n.jsxs)(A.h,{width:550,height:Math.max(25*Math.min(O,l.length),200),children:[Object(n.jsx)(A.g,{data:l.slice(0,O),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:20,outerRadius:86,label:!1,startAngle:450,endAngle:90,children:l.map((function(e,t){return Object(n.jsx)(A.b,{fill:p[t%p.length]},"cell-".concat(t))}))}),Object(n.jsx)(A.d,{layout:"vertical",verticalAlign:"top",align:"right"})]}):Object(n.jsx)(i.a.Fragment,{}),(null===h||void 0===h?void 0:h.indexOf("nauczyciele"))>-1?Object(n.jsx)(N,{kodGus:a||""}):Object(n.jsx)(i.a.Fragment,{})]})})})}},{key:"common",value:function(){var e=this;if(this.props.kodGminy!==this.state.kodGminy){var t="/files/"+this.props.kodGminy+"-panel.json";g.a.get(t).then((function(t){var a=t.data;e.setState(a)})),this.setState(Object.assign({},this.state,{kodGminy:this.props.kodGminy}))}}},{key:"componentDidMount",value:function(){this.common()}},{key:"componentDidUpdate",value:function(){this.common()}}]),a}(i.a.Component),P=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).classes=void 0,n.componentRef=void 0,n.wojewodztwa=["DOLNO\u015aL\u0104SKIE","KUJAWSKO-POMORSKIE","LUBELSKIE","LUBUSKIE","\u0141\xd3DZKIE","MA\u0141OPOLSKIE","MAZOWIECKIE","OPOLSKIE","PODKARPACKIE","PODLASKIE","POMORSKIE","\u015aL\u0104SKIE","\u015aWI\u0118TOKRZYSKIE","WARMI\u0143SKO-MAZURSKIE","WIELKOPOLSKIE","ZACHODNIOPOMORSKIE"],n.elements=["budzet","smieci","dotacje_ue","dzialy","nauczyciele"],n.componentRef=i.a.createRef(),n.handleChangeAutor=n.handleChangeAutor.bind(Object(d.a)(n)),n.handleChangeCytat=n.handleChangeCytat.bind(Object(d.a)(n)),n.handleChangeMultiple=n.handleChangeMultiple.bind(Object(d.a)(n)),n.handleChangeGmina=n.handleChangeGmina.bind(Object(d.a)(n)),n.handleChangeWojewodztwo=n.handleChangeWojewodztwo.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.state={cytat:"np: Krak\xf3w w 2019 realizowa\u0142 dobr\u0105 polityk\u0119 bud\u017cetow\u0105. Wprawdzie wydatki przewy\u017cszy\u0142y dochody, ale \u015brodki te zosta\u0142y wydane na wk\u0142ad w\u0142asny w projekty inwestycyjne dofinansowane przez UE, kt\xf3re b\u0119d\u0105 procentowa\u0107 w przysz\u0142ych latach.",autor:"np.: Maciej Pikor, Lider Polska 2050 w Ma\u0142opolsce",select:n.elements,wojewodztwo:"MA\u0141OPOLSKIE",kodGminy:"1261011",liczbaDzialow:"10"},n}return Object(l.a)(a,[{key:"handleChangeAutor",value:function(e){null!==e&&null!==e.target&&null!==e.target.value&&this.setState(Object.assign({},this.state,{autor:e.target.value}))}},{key:"handleChangeCytat",value:function(e){null!==e&&null!==e.target&&null!==e.target.value&&this.setState(Object.assign({},this.state,{cytat:e.target.value}))}},{key:"handleChangeMultiple",value:function(e){console.log(e.target);for(var t=[],a=0,n=e.target.value.length;a<n;a+=1)t.push(e.target.value[a]);this.setState(Object.assign({},this.state,{select:t}))}},{key:"handleChangeWojewodztwo",value:function(e){this.setState(Object.assign({},this.state,{wojewodztwo:e.target.value}))}},{key:"handleChangeGmina",value:function(e){this.setState(Object.assign({},this.state,{kodGminy:e}))}},{key:"handleChangeLiczbaDzialow",value:function(e){this.setState(Object.assign({},this.state,{liczbaDzialow:e}))}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.state,a=t.cytat,o=t.autor,i=t.select,c=t.wojewodztwo,s=t.kodGminy,r=t.liczbaDzialow,l=this.elements,d=this.wojewodztwa;return Object(n.jsxs)(w.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(F,{kodGminy:s,ref:this.componentRef,cytat:a,autor:o,selected:i,liczbaDzialow:r}),Object(n.jsx)("form",{onSubmit:this.handleSubmit,children:Object(n.jsxs)(w.a,{display:"flex",flexDirection:"column",style:{padding:10},children:[Object(n.jsx)("strong",{children:"Wyb\xf3r Jednostki Samorz\u0105du:"}),Object(n.jsx)("select",{id:"demo",style:{marginBottom:10},value:c,onChange:this.handleChangeWojewodztwo,children:d.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))}),Object(n.jsx)(v,{wojewodztwo:c,gminaChangeFn:this.handleChangeGmina,kodWybranejGminy:s}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Komentarz eksperta:"}),Object(n.jsx)("textarea",{name:"cytat",onChange:this.handleChangeCytat,value:a,style:{marginBottom:10}}),Object(n.jsx)("input",{type:"text",name:"autor",onChange:this.handleChangeAutor,value:o}),Object(n.jsxs)(h.a,{className:"formControl",children:[Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Elementy grafiki:"}),Object(n.jsx)(b.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,style:{marginBottom:10},value:i,onChange:this.handleChangeMultiple,input:Object(n.jsx)(O.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(n.jsx)("div",{className:"chips",children:e.map((function(e){return Object(n.jsx)(p.a,{label:e,className:"chip"},e)}))})},children:l.map((function(e){return Object(n.jsx)(m.a,{value:e,children:e},e)}))})]}),Object(n.jsx)("strong",{children:"Max. liczba dzia\u0142\xf3w na wykresie:"}),Object(n.jsx)("input",{type:"text",name:"liczbaDzialow",onChange:function(t){return e.handleChangeLiczbaDzialow(t.target.value)},value:r,style:{marginBottom:10}}),Object(n.jsx)("button",{onClick:function(){return Object(y.exportComponentAsPNG)(e.componentRef)},children:"Export PNG"})]})})]})}}]),a}(i.a.Component),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,480)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),i(e),c(e)}))};s.a.render(Object(n.jsxs)(i.a.StrictMode,{children:[Object(n.jsx)(P,{}),","]}),document.getElementById("root")),B()}},[[435,1,2]]]);
//# sourceMappingURL=main.32fb8278.chunk.js.map