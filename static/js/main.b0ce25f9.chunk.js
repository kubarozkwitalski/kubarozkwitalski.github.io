(this.webpackJsonpbudget_visualization=this.webpackJsonpbudget_visualization||[]).push([[0],{256:function(e,a,t){},263:function(e,a,t){},464:function(e,a,t){"use strict";t.r(a);var n=t(2),o=t(1),i=t.n(o),r=t(13),c=t.n(r),s=(t(256),t(19)),l=t(10),d=t(9),u=t(37),j=t(12),y=t(11),p=t(20),b=(t(263),t(504)),h=t(490),f=t(491),m=t(484),w=t(486),g=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props.dane,a=e.dochody,t=e.wydatki;return Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(m.a,{viewBox:""}),Object(n.jsx)(b.a,{className:"pomaranczowy",children:"Dochody:"}),Object(n.jsx)(b.a,{children:a})]}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(w.a,{viewBox:""}),Object(n.jsx)(b.a,{className:"pomaranczowy",children:"Wydatki:"}),Object(n.jsx)(b.a,{children:t})]})]})}}]),t}(i.a.Component),O=t(505),x=t(487),k=t(488),z=t(489),v=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props.dotacje_ue,a=e.gmina,t=e.gmina_pc,o=e.powiat,i=e.powiat_pc,r=e.wojewodztwo,c=e.wojewodztwo_pc;return Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",children:[Object(n.jsx)(b.a,{children:"Dotacje UE od 2014 dla projekt\xf3w realizowanych w:"}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(x.a,{viewBox:""}),Object(n.jsx)(b.a,{className:"pomaranczowy",children:"Gminie:"}),"\xa0",Object(n.jsxs)(b.a,{children:[" ",a," (",t," na mieszka\u0144ca)"]})]}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(k.a,{viewBox:""}),Object(n.jsx)(b.a,{className:"pomaranczowy",children:"Powiecie:"}),"\xa0",Object(n.jsxs)(b.a,{children:[o," (",i," na mieszka\u0144ca)"]})]}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(z.a,{viewBox:""}),Object(n.jsx)(b.a,{className:"pomaranczowy",children:"Wojew\xf3dztwie:"}),"\xa0",Object(n.jsxs)(b.a,{children:[r," (",c," na mieszka\u0144ca)"]})]})]})}}]),t}(i.a.Component),_=t(15),S=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.podregion,t=e.zgony;return Object(n.jsxs)(b.a,{children:[Object(n.jsx)("br",{}),Object(n.jsxs)(b.a,{children:["Podregion ",a,": wszystkie zgony wg. tygodnia:"]}),Object(n.jsxs)(_.i,{syncId:"zgony",width:1060,height:500,data:t,margin:{top:10,right:30,left:20,bottom:10},children:[Object(n.jsx)(_.e,{strokeDasharray:"5 5"}),Object(n.jsx)(_.m,{dataKey:"tydzien",axisLine:{strokeWidth:2},ticks:[1,5,10,15,20,25,30,36,42,47,52]}),Object(n.jsx)(_.n,{axisLine:{strokeWidth:2}}),Object(n.jsx)(_.g,{iconSize:20,wrapperStyle:{bottom:-10}}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2014",stroke:"#92daad"}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2015",stroke:"#82ca9d"}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2016",stroke:"#72ba8d"}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2017",stroke:"#62aa7d"}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2018",stroke:"#529a6d"}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2019",stroke:"#428a5d"}),Object(n.jsx)(_.h,{type:"monotone",dot:!1,dataKey:"2020",stroke:"#ff2222"})]})]})}}]),t}(i.a.Component),N=t(51),A=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.dane_xy,t=e.opis,o=e.typ_wykresu,i=void 0===o?"Liniowy (XY)":o,r=e.jednostka,c=void 0===r?"":r,l=e.kolory,d=void 0===l?"paleta":l;if(""===t)return null;var u=t?t.split("|"):[],j=Object(N.a)(u,2),y=j[0],p=j[1],h=p?p.split(","):[],f={paleta:[[],["#003f5c"],["#003f5c","#ffa600"],["#003f5c","#bc5090","#ffa600"],["#003f5c","#7a5195","#ef5675","#ffa600"],["#003f5c","#58508d","#bc5090","#ff6361","#ffa600"],["#003f5c","#444e86","#955196","#dd5182","#ff6e54","#ffa600"],["#003f5c","#374c80","#7a5195","#bc5090","#ef5675","#ff764a","#ffa600"],["#003f5c","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#ffa600"]],rozbiezne:[[],["#de425b"],["#488f31","#de425b"]],odcienie:[[],["#de425b"],["#488f31","#de425b"]]}[d],m={syncId:t,width:1200,height:500,data:a,margin:{top:10,right:40,left:45,bottom:10}},w=c;if(c&&(null===c||void 0===c?void 0:c.indexOf("auto"))>-1){var g=0;null===a||void 0===a||a.forEach((function(e){e.dane0&&e.dane0>g&&(g=e.dane0),e.dane1&&e.dane1>g&&(g=e.dane1),e.dane2&&e.dane2>g&&(g=e.dane2),e.dane3&&e.dane3>g&&(g=e.dane3),e.dane4&&e.dane4>g&&(g=e.dane4),e.dane5&&e.dane5>g&&(g=e.dane5)})),w=g>1e9?w.replace("auto","mld"):g>1e6?w.replace("auto","mln"):g>1e3?w.replace("auto","tys."):w.replace("auto","")}var O=w.indexOf("tys.")>-1?1e3:w.indexOf("mln")>-1?1e6:w.indexOf("mld")>-1?1e9:1,x=function(e){return e/O},k=function(){return Object(n.jsx)(_.e,{strokeDasharray:"5 5"})},z=function(){return Object(n.jsx)(_.m,{dataKey:"label",tickSize:12,tickMargin:10})},v=function(){return Object(n.jsx)(_.n,{yAxisId:"left",orientation:"left",axisLine:{strokeWidth:2},tickSize:8,label:{value:w,position:"bottom",offset:50},tickFormatter:x})},S=function(){return t&&t.indexOf(":R")>-1?Object(n.jsx)(_.n,{yAxisId:"right",orientation:"right",axisLine:{strokeWidth:2},tickSize:18,label:{value:w,position:"bottom",offset:50},tickFormatter:x}):null},A=function(){return Object(n.jsx)(_.g,{iconSize:20,wrapperStyle:{bottom:-10}})};return Object(n.jsxs)(b.a,{children:[Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{margin:"40px",children:y}),i.indexOf("Kolumnowy")>-1?Object(n.jsxs)(_.d,Object(s.a)(Object(s.a)({},m),{},{children:[k()," ",z()," ",v()," ",S()," ",A(),h.map((function(e,a){return""!==e?Object(n.jsx)(_.c,{name:e.replace(":R"," (prawa o\u015b)").replace(/:S:./,""),stackId:e.indexOf(":S:")>-1?e.substr(e.indexOf(":S:")+3,1):void 0,dataKey:"dane"+a,fill:f[h.length][a],yAxisId:e.indexOf(":R")>-1?"right":"left"},a):null}))]})):-1===t.indexOf(":S")?Object(n.jsxs)(_.i,Object(s.a)(Object(s.a)({},m),{},{children:[k()," ",z()," ",v()," ",S()," ",A(),h.map((function(e,a){return""!==e?Object(n.jsx)(_.h,{type:"monotone",name:e.replace(":R"," (prawa o\u015b)"),dataKey:"dane"+a,stroke:f[h.length][a],fill:f[h.length][a],strokeWidth:2,yAxisId:e.indexOf(":R")>-1?"right":"left"},a):null}))]})):Object(n.jsxs)(_.b,Object(s.a)(Object(s.a)({},m),{},{children:[k()," ",z()," ",v()," ",S()," ",A(),h.map((function(e,a){return""!==e?Object(n.jsx)(_.a,{type:"monotone",stackId:e.indexOf(":S:")>-1?e.substr(e.indexOf(":S:")+3,1):void 0,name:e.replace(":R"," (prawa o\u015b)").replace(/:S:./,""),dataKey:"dane"+a,stroke:f[h.length][a],fill:f[h.length][a],strokeWidth:2,yAxisId:e.indexOf(":R")>-1?"right":"left"},a):null}))]}))]})}}]),t}(i.a.Component);var E=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).RADIAN=Math.PI/180,n.state={activeIndex:-1,verticalOffset:0},n.onPieClick=function(e,a){var t=e.midAngle,o=Math.sin(-n.RADIAN*(t||0));n.setState({verticalOffset:n.props.typ_wykresu.indexOf("Ko\u0142owy")>-1&&o<0&&n.state.activeIndex!==a?80:0,activeIndex:n.state.activeIndex===a?-1:a})},n.legendRenderer=n.legendRenderer.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"legendRenderer",value:function(e,a,t){return t===this.state.activeIndex?Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:e})}):Object(n.jsx)("span",{children:e})}},{key:"render",value:function(){var e=this,a=this.props,t=a.dane_kolowy,o=void 0===t?[]:t,r=a.opis,c=a.typ_wykresu,s=a.jednostka,l=void 0===s?"":s,d=a.procent_calosci,u=void 0===d?100:d,j=c.indexOf("Pier\u015bcieniowy")>-1,y=o.slice(0,8);o.length>8&&y.push({name:"Pozosta\u0142e",value:o.slice(8).reduce((function(e,a){return e+a.value}),0)});var p=["grey","#003f5c","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#ffa600"].reverse();return Object(n.jsxs)(i.a.Fragment,{children:[r?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{className:"intro",dangerouslySetInnerHTML:{__html:r}})]}):Object(n.jsx)(i.a.Fragment,{}),Object(n.jsxs)(_.k,{width:1200,height:j?520:400+(this.state.activeIndex>=0?80:0),children:[Object(n.jsx)(_.j,{data:y,dataKey:"value",nameKey:"name",cx:"50%",cy:j?254:200+this.state.verticalOffset,innerRadius:j?160:40,outerRadius:j?240:172,label:!1,startAngle:450,endAngle:90,activeIndex:this.state.activeIndex,onClick:this.onPieClick,activeShape:function(a){var t=a.cx,o=a.cy,r=a.midAngle,c=a.innerRadius,s=a.outerRadius,d=a.startAngle,y=a.endAngle,p=a.percent,b=a.value,h="#f9c00c",f=Math.sin(-e.RADIAN*r),m=Math.cos(-e.RADIAN*r),w=t+(s+20)*m,g=o+(s+20)*f,O=t+(s+60)*m,x=o+(s+60)*f,k=O,z=o+(s/.86+36)*(f>=0?1:-1)-10,v=t+(c+9)*m,S=o+(c+9)*f,N=t+c/2*m,A=o+c/2*f,E=m<0?"start":"end",D=function(e,a){var t="",n=0;return a.indexOf("auto")>-1?e>1e9?(n=Math.round(e/1e7)/100,t=a.replace("auto","mld")):e>1e6?(n=Math.round(e/1e4)/100,t=a.replace("auto","mln")):e>1e3?(n=Math.round(e/10)/100,t=a.replace("auto","tys.")):(t=a.replace("auto",""),n=e):(n=a.indexOf("tys.")>-1?Math.round(e/1e3):a.indexOf("mln")>-1?Math.round(e/1e6):e,t=a),n+" "+t}(b,l),C=(100*p).toFixed(2)+"%"+(100===u?"":" / "+(1*u*p).toFixed(2)+"%");return Object(n.jsxs)("g",{children:[Object(n.jsx)(_.l,{cx:t+12*m,cy:o+12*f,innerRadius:c,outerRadius:s+5,startAngle:d,endAngle:y,fill:h,stroke:"black",strokeWidth:2}),j?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("path",{d:"M".concat(v,",").concat(S,"L").concat(N,",").concat(A),stroke:h,strokeWidth:2,fill:"none"}),Object(n.jsx)("circle",{cx:N,cy:A,r:4,fill:h,stroke:"none"}),Object(n.jsx)("text",{x:t,y:o,textAnchor:"middle",fill:"#333",children:D}),Object(n.jsx)("text",{x:t,y:o,dy:36,textAnchor:"middle",fill:"#999",children:C})]}):Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("path",{d:"M".concat(w,",").concat(g,"L").concat(O,",").concat(x,"L").concat(k,",").concat(z),stroke:h,strokeWidth:2,fill:"none"}),Object(n.jsx)("circle",{cx:k,cy:z,r:4,fill:h,stroke:"none"}),Object(n.jsx)("text",{x:k+24*(m<0?1:-1),y:z,textAnchor:E,fill:"#333",children:D}),Object(n.jsx)("text",{x:k+24*(m<0?1:-1),y:z,dy:36,textAnchor:E,fill:"#999",children:C})]})]})},children:y.map((function(a,t){return Object(n.jsx)(_.f,{fill:t===e.state.activeIndex?"#f9c00c":p[t]},"cell-".concat(t))}))}),Object(n.jsx)(_.g,{layout:"vertical",verticalAlign:"bottom",align:"right",formatter:this.legendRenderer})]})]})}}]),t}(i.a.Component),D=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props.dane_gminy,a=e.gmina,t=(e.typ_gminy,e.ludnosc);return a?Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(b.a,{className:"wstep",children:Object(n.jsxs)(b.a,{className:"prawa",children:[Object(n.jsx)(b.a,{className:"nazwa_gminy",children:Object(n.jsx)("strong",{children:a})}),Object(n.jsxs)(b.a,{children:[Object(n.jsx)("strong",{children:t}),"\xa0",""!==a?"mieszka\u0144c\xf3w":""]})]})})}):null}}]),t}(i.a.Component),C=Object(p.c)((function(e){return{dane_gminy:e.dane_gminy}}))(D),W=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"renderBudzet",value:function(e){return this.isShown("budzet")&&e?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(b.a,{className:"intro",children:["Bud\u017cet za rok ",Object(n.jsx)("strong",{children:"2019"})]}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(h.a,{fontSize:"large",className:"icon",viewBox:""}),Object(n.jsx)(g,{dane:e})]}),Object(n.jsx)("br",{})]}):Object(n.jsx)(i.a.Fragment,{})}},{key:"renderSmieci",value:function(e){return this.isShown("smieci")&&e?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(b.a,{className:"intro",children:"Gospodarka Odpadami Komunalnymi"}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(f.a,{fontSize:"large",className:"icon",viewBox:""}),Object(n.jsx)(g,{dane:e})]}),Object(n.jsx)("br",{})]}):Object(n.jsx)(i.a.Fragment,{})}},{key:"isShown",value:function(e){return this.props.moduly.indexOf(e)>-1}},{key:"componentDidUpdate",value:function(e,a,t){var n=document.getElementById("main_section"),o=document.getElementById("warning");n.offsetHeight>1.5*n.offsetWidth?o.innerText="Wysoko\u015b\u0107 infografiki jest wi\u0119ksza ni\u017c 150% szeroko\u015bci i nie b\u0119dzie dobrze wygl\u0105da\u0107 na FB! Doradzamy usuni\u0119cie niekt\xf3rych element\xf3w!":o.innerText=""}},{key:"render",value:function(){var e=this.props,a=e.autor,t=e.cytat,o=e.dane_gminy,r=e.dane_podregionu,c=e.dzial,l=e.grupa_dzial,d=e.grupa_rozdzial,u=e.logo,j=e.wykresy,y=r.podregion,p=r.zgony,h=o||{},f=h.gospodarka_odpadami_komunalnymi,m=h.budzet,w=h.dotacje_ue,g=h.children,x=g?g[parseInt(c||"1")-1]:null,k=(null===g||void 0===g?void 0:g.reduce((function(e,a){return e+a.value}),0))||1,z=100*((null===x||void 0===x?void 0:x.value)||0)/k,_=o&&o.grupyDzialy&&l&&o.grupyDzialy[l]?100*o.grupyDzialy[l].reduce((function(e,a){return e+a.value}),0)/k:0,N=o&&o.grupyRozdzialy&&d&&o.grupyRozdzialy[d]?100*o.grupyRozdzialy[d].reduce((function(e,a){return e+a.value}),0)/k:0,D=x?x.children:[];return Object(n.jsx)(O.b,{injectFirst:!0,children:Object(n.jsx)("div",{id:"main_section",style:JSON.parse(u),children:Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",children:[Object(n.jsx)(C,{}),Object(n.jsxs)(b.a,{className:"tlo",children:[""!==t?t.split("\n").map((function(e){return Object(n.jsxs)(b.a,{margin:"40px",children:[Object(n.jsx)("i",{children:e}),Object(n.jsx)("br",{})]})})):"",""!==a?Object(n.jsxs)(b.a,{className:"autor",children:[a,"\xa0\xa0\xa0\xa0\xa0\xa0"]}):"",this.renderBudzet(m),this.renderSmieci(f),this.isShown("dotacje_ue")&&w?Object(n.jsx)(v,{dotacje_ue:w}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("budzet-wykres")&&o&&o.budzet_wykres?Object(n.jsx)(A,{dane_xy:o.budzet_wykres,typ_wykresu:"Kolumnowy (XY)",opis:"Historia bud\u017cetu gminy:|dochody,wydatki",jednostka:"auto z\u0142",kolory:"rozbiezne"}):null,this.isShown("budzet-bilans")&&o&&o.budzet_wykres?Object(n.jsx)(A,{dane_xy:o.budzet_wykres,typ_wykresu:"Kolumnowy (XY)",opis:"Bilans bud\u017cetu gminy:|,,bud\u017cet:S:A,nadwy\u017cka:S:A,deficyt:S:A",jednostka:"auto z\u0142"}):null,this.isShown("oswiata-wykres")&&o&&o.oswiata_wykres?Object(n.jsx)(A,{dane_xy:o.oswiata_wykres,typ_wykresu:"Kolumnowy (XY)",opis:"Subwencja o\u015bwiatowa a rzeczywiste wydatki gmin na o\u015bwiat\u0119:|subwencja,wydatki",jednostka:"auto z\u0142",kolory:"rozbiezne"}):null,this.isShown("dzialy")&&g?Object(n.jsx)(E,{dane_kolowy:g,opis:"Wydatki wg dzia\u0142\xf3w bud\u017cetu:",procent_calosci:100,jednostka:"auto z\u0142",typ_wykresu:"Pier\u015bcieniowy"}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("rozdzialy")&&D&&x?Object(n.jsx)(E,{dane_kolowy:D,opis:"Rozdzia\u0142 wydatk\xf3w z dzia\u0142u <b>"+x.name+"</b>:",procent_calosci:z,jednostka:"auto z\u0142",typ_wykresu:"Pier\u015bcieniowy"}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("grupy-dzialy")&&o&&l&&o.grupyDzialy&&o.grupyDzialy[l]?Object(n.jsx)(E,{dane_kolowy:o.grupyDzialy[l],opis:"Wydatki z grupy <b>"+l+"</b> wg dzia\u0142u:",procent_calosci:_,jednostka:"auto z\u0142",typ_wykresu:"Pier\u015bcieniowy"}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("grupy-rozdzialy")&&o&&d&&o.grupyRozdzialy&&o.grupyRozdzialy[d]?Object(n.jsx)(E,{dane_kolowy:o.grupyRozdzialy[d],opis:"Wydatki z grupy <b>"+d+"</b> wg rozdzia\u0142u:",procent_calosci:N,jednostka:"auto z\u0142",typ_wykresu:"Pier\u015bcieniowy"}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("zgony")&&p?Object(n.jsx)(S,{zgony:p,podregion:y}):Object(n.jsx)(i.a.Fragment,{}),j.map((function(e,a){switch(e.typ_wykresu){case"Pier\u015bcieniowy":case"Ko\u0142owy":return Object(n.jsx)(E,Object(s.a)({},e),a);case"Kolumnowy (XY)":case"Liniowy (XY)":case"GUS: Liniowy":case"GUS: Kolumnowy":default:return Object(n.jsx)(A,Object(s.a)({},e),a)}})),Object(n.jsx)(b.a,{children:"\xa0"}),Object(n.jsxs)(b.a,{className:"stopka",children:["Zobacz te dane dla Twojej gminy: infografika.edu.pl/",Object(n.jsx)("span",{id:"hash"}),"\xa0\xa0"]}),Object(n.jsx)(b.a,{className:"zrodlo",children:"\xa0\u0179r\xf3d\u0142o: dane.gov.pl, GUS"})]})]})})})}}]),t}(i.a.Component),I=Object(p.c)((function(e){return{autor:e.autor,cytat:e.cytat,dane_gminy:e.dane_gminy,dane_podregionu:e.dane_podregionu,dzial:e.dzial,grupa_dzial:e.grupa_dzial,grupa_rozdzial:e.grupa_rozdzial,logo:e.logo,moduly:e.moduly,wykresy:e.wykresy}}),null,null,{forwardRef:!0})(W),K=t(218),R=t.n(K),P="CHANGE_LOGO",L="CHANGE_AUTOR",G="CHANGE_CYTAT",U="CHANGE_DANE_GMINY",F="CHANGE_DANE_PODREGIONU",T="CHANGE_LISTA_POWIATOW",Y="CHANGE_GRUPA_DZIAL",M="CHANGE_GRUPA_ROZDZIAL",B="CHANGE_KOD_GMINY",X="CHANGE_WOJEWODZTWO",H="CHANGE_MODULY",J="CHANGE_DZIAL",Z="ADD_WYKRES",V="DELETE_WYKRES",q="SET_WYKRES",Q="MOVE_DOWN_WYKRES",$="MOVE_UP_WYKRES",ee=[{label:Object(n.jsx)(i.a.Fragment,{children:"BRAK"}),value:"{}"},{label:Object(n.jsx)(i.a.Fragment,{children:"logo_infografika.png"}),value:JSON.stringify({backgroundImage:"url(logo_infografika.png), radial-gradient(circle at right, #fcd475, #ffffff)",backgroundPosition:"left top, right center",backgroundRepeat:"no-repeat, no-repeat"})},{label:Object(n.jsx)(i.a.Fragment,{children:"logo_polska2050.png"}),value:JSON.stringify({backgroundImage:"url(logo_polska2050.png), radial-gradient(circle at right, #fcd475, #ffffff)",backgroundPosition:"left top, right center",backgroundRepeat:"no-repeat, no-repeat"})},{label:Object(n.jsx)(i.a.Fragment,{children:"logo_polska2050_mapa.png"}),value:JSON.stringify({backgroundImage:"url(logo_polska2050_top.png), url(logo_polska2050_bottom.png), url(logo_polska2050_middle.png)",backgroundPosition:"left top, left bottom, center center",backgroundRepeat:"no-repeat, no-repeat, repeat"})}],ae=["budzet","smieci","dotacje_ue","budzet-bilans","budzet-wykres","oswiata-wykres","dzialy","rozdzialy","grupy-dzialy","grupy-rozdzialy","zgony"],te=t(40),ne=t.n(te),oe=t(73),ie=function(e,a){return{type:q,payload:{wykres:a,index:e}}},re=function(e){return function(a,t){var n="/files/"+e+"-panel.json";ne.a.get(n).then((function(e){a(le(e.data)),e.data.podregion_eurostat&&a(ce(e.data.podregion_eurostat)),e.data.kod_gus&&t().wykresy.forEach((function(t,n){a(se(n,e.data.kod_gus||"",t.gus_ids||"",t.opis||""))}))}))}},ce=function(e){return function(a){var t="/files/"+e+".json";ne.a.get(t).then((function(e){a(de(e.data))}))}},se=function(e,a,t,n){return function(o){if(""===t)return null;var i=t.split(",").map((function(e){return parseInt(e)})),r="https://bdl.stat.gov.pl/api/v1/data/by-unit/"+a+"?lang=pl&page-size=100";i.forEach((function(e){r+="&var-id="+e})),ne.a.get(r).then((function(a){var r,c=[{label:"2015"},{label:"2016"},{label:"2017"},{label:"2018"},{label:"2019"}],s=Object(oe.a)(a.data.results);try{for(s.s();!(r=s.n()).done;)for(var l=r.value,d=0;d<i.length;d++)if(i[d]===l.id){var u,j=Object(oe.a)(l.values);try{for(j.s();!(u=j.n()).done;){var y,p=u.value,b=Object(oe.a)(c);try{for(b.s();!(y=b.n()).done;){var h=y.value;h.label===p.year&&(h["dane"+d]=p.val)}}catch(f){b.e(f)}finally{b.f()}}}catch(f){j.e(f)}finally{j.f()}}}catch(f){s.e(f)}finally{s.f()}o(ie(e,{opis:n,gus_ids:t,dane_xy:c}))}))}},le=function(e){return{type:U,payload:e}},de=function(e){return{type:F,payload:e}},ue=function(e){return{type:T,payload:e}},je=function(e){return{type:B,payload:e}},ye=function(e,a){return function(t){var n="/files/"+e.replaceAll("\u015a","S").replaceAll("\u0104","A").replaceAll("\u0143","N").replaceAll("\u0141","L").replaceAll("\xd3","O").replaceAll("\u0118","E")+".json";ne.a.get(n).then((function(e){var n=[];for(var o in e.data)if(e.data.hasOwnProperty(o)){var i=[];for(var r in e.data[o])e.data[o].hasOwnProperty(r)&&i.push({gmina:r,kod_gminy:e.data[o][r]});var c={powiat:o,gminy:i};n.push(c)}t(ue(n));var s=void 0===a?n.values().next().value.gminy.values().next().value.kod_gminy:a;t(je(s)),t(re(s))}))}},pe=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.moduly,t=e.changeModuly;return Object(n.jsx)("div",{style:{width:"520px"},children:Object(n.jsx)(R.a,{options:ae,selected:a,handleOnChange:function(e){return t(e)}})})}}]),t}(i.a.Component),be={changeModuly:function(e){return{type:H,payload:e}}},he=Object(p.c)((function(e){return{moduly:e.moduly}}),be)(pe),fe=["Wynagrodzenia i sk\u0142adki","Wydatki na zadania statutowe","Dotacje na zadania bie\u017c\u0105ce","\u015awiadczenia na rzecz os\xf3b fizycznych","Wynagrodzenia finansowane programami UE","Wsp\xf3\u0142finansowanie wynagrodze\u0144 program\xf3w UE","Wynagrodzenia dla innych program\xf3w zagranicznych","Wydatki finansowane programami UE","Wsp\xf3\u0142finansowanie wydatk\xf3w program\xf3w UE","Wydatki dla innych program\xf3w zagranicznych","Dotacje bie\u017c\u0105ce z program\xf3w UE","Wsp\xf3\u0142finansowanie dotacji bie\u017c\u0105cych z program\xf3w UE","Dotacje bie\u017c\u0105ce z innych program\xf3w zagranicznych","\u015awiadczenia dla os\xf3b fizycznych finansowane z UE","Wsp\xf3\u0142finansowane \u015bwiadcze\u0144 dla os\xf3b fizycznych z UE","\u015awiadczenia dla os\xf3b fizycznych z innych program\xf3w zagranicznych","Wyp\u0142aty z por\u0119cze\u0144 i gwarancji udzielonych przez gmin\u0119","Obs\u0142uga d\u0142ugu","Inwestycje ze \u015brodk\xf3w gminy","Inwestycje ze \u015brodk\xf3w UE","Wsp\xf3\u0142finansowanie inwestycji ze \u015brodk\xf3w UE","Dotacje do inwestycji ze \u015brodk\xf3w gminy","Dotacje do inwestycji ze \u015brodk\xf3w UE","Wsp\xf3\u0142finansowanie dotacji do inwestycji ze \u015brodk\xf3w UE","Zakup i obj\u0119cie akcji i udzia\u0142\xf3w","Wniesienie wk\u0142ad\xf3w do sp\xf3\u0142ek prawa handlowego"],me=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this;return Object(n.jsx)("select",{id:"SelektorGrupy",style:{marginBottom:10},onChange:function(a){return e.props.grupaChangeFn(a.target.value)},children:fe.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})}}]),t}(i.a.Component),we=t(492),ge=t(493),Oe=t(494),xe=t(495),ke=t(496),ze=t(497),ve=t(498),_e=t(59),Se=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"csvToWykresXYDaneArray",value:function(e){for(var a=e.split("\n"),t=[],n=0;n<a.length;n++)if(0!==a[n].length){var o=a[n].split(","),i=isNaN(Number(o[1]))?void 0:Number(o[1]),r=isNaN(Number(o[2]))?void 0:Number(o[2]),c=isNaN(Number(o[3]))?void 0:Number(o[3]),s=isNaN(Number(o[4]))?void 0:Number(o[4]),l=isNaN(Number(o[5]))?void 0:Number(o[5]),d=isNaN(Number(o[6]))?void 0:Number(o[6]);t.push({label:o[0],dane0:i,dane1:r,dane2:c,dane3:s,dane4:l,dane5:d})}return t}},{key:"wykresXYDaneArrayToCsv",value:function(e){var a="";return e.forEach((function(e){a+=e.label+","+(e.dane0?e.dane0:"")+","+(e.dane1?e.dane1:"")+","+(e.dane2?e.dane2:"")+","+(e.dane3?e.dane3:"")+","+(e.dane4?e.dane4:"")+","+(e.dane5?e.dane5:"")+"\n"})),a}},{key:"csvToNameValueArray",value:function(e){for(var a=e.split("\n"),t=[],n=0;n<a.length;n++){var o=a[n].split(",");if(2===o.length){var i=isNaN(Number(o[1]))?0:Number(o[1]);t.push({name:o[0],value:i})}}return t}},{key:"nameValueArrayToCsv",value:function(e){var a="";return e.forEach((function(e){a+=e.name+","+e.value+"\n"})),a}},{key:"renderChartType",value:function(e,a,t){var o,r=this.props.setWykres;switch(a.typ_wykresu){case"Liniowy (XY)":o=Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(a){return r(e,{typ_wykresu:"Kolumnowy (XY)"})},children:Object(n.jsx)(we.a,{})});break;case"Kolumnowy (XY)":o=Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(a){return r(e,{typ_wykresu:"Liniowy (XY)"})},children:Object(n.jsx)(ge.a,{})});break;case"GUS: Liniowy":o=Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(a){return r(e,{typ_wykresu:"GUS: Kolumnowy"})},children:Object(n.jsx)(we.a,{})});break;case"GUS: Kolumnowy":o=Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(a){return r(e,{typ_wykresu:"GUS: Liniowy"})},children:Object(n.jsx)(ge.a,{})});break;case"Ko\u0142owy":o=Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(a){return r(e,{typ_wykresu:"Pier\u015bcieniowy"})},children:Object(n.jsx)(Oe.a,{})});break;case"Pier\u015bcieniowy":o=Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(a){return r(e,{typ_wykresu:"Ko\u0142owy"})},children:Object(n.jsx)(xe.a,{})})}return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[o,Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)("span",{className:"hint",children:[" ",Object(n.jsxs)("b",{children:["Wykres ",e]})]}),Object(n.jsx)("span",{className:"hint",children:t})]})]}),Object(n.jsx)(_e.DebounceInput,{type:"text",name:"opis",value:a.opis,onChange:function(a){return r(e,{opis:a.target.value.trim()})},debounceTimeout:2e3})]})}},{key:"renderWykres",value:function(e,a,t){var o=this,r=this.props,c=r.pobierzDaneGUS,s=r.setWykres,l="";switch(a.typ_wykresu){case"GUS: Liniowy":l='Format: NAG\u0141\xd3WEK|SERIA1,SERIA2:R (":R" przypisuje seri\u0119 do prawej osi Y, a ":S:A" zmienia wykres liniowy na powierzchniowy i pokazuje warto\u015bci kumulatywnie)';case"GUS: Kolumnowy":return""===l&&(l='Format: NAG\u0141\xd3WEK|SERIA1,SERIA2:R (":R" przypisuje seri\u0119 do prawej osi Y, a ":S:A" grupuje kolumny)'),Object(n.jsxs)(i.a.Fragment,{children:[this.renderChartType(e,a,l),Object(n.jsx)("span",{className:"hint",children:"Identyfikatory danych z GUS. Dane musz\u0105 by\u0107 dost\u0119pne na poziomie gminy."}),Object(n.jsx)(_e.DebounceInput,{type:"text",name:"gus_ids",value:a.gus_ids,onChange:function(n){return c(e,t,n.target.value.trim(),a.opis)},debounceTimeout:2e3})]});case"Kolumnowy (XY)":case"Liniowy (XY)":return Object(n.jsxs)(i.a.Fragment,{children:[this.renderChartType(e,a,"Nag\u0142\xf3wek wykresu na bazie w\u0142asnych danych:"),Object(n.jsx)(_e.DebounceInput,{element:"textarea",forceNotifyByEnter:!1,debounceTimeout:2e3,className:"json",name:"wlasny_liniowy.dane",onChange:function(a){return s(e,{dane_xy:o.csvToWykresXYDaneArray(a.target.value)})},value:this.wykresXYDaneArrayToCsv(a.dane_xy||[])}),Object(n.jsx)("span",{className:"hint",children:"Jednostka osi Y. Je\u015bli zawiera 'tys.' lub 'mln' to zostanie odpowiednio przeliczona:"}),Object(n.jsx)(_e.DebounceInput,{type:"text",name:"wlasny_liniowy.jednostka",onChange:function(a){return s(e,{jednostka:a.target.value})},value:a.jednostka,debounceTimeout:2e3})]});case"Ko\u0142owy":case"Pier\u015bcieniowy":return Object(n.jsxs)(i.a.Fragment,{children:[this.renderChartType(e,a,"Nag\u0142\xf3wek wykresu:"),Object(n.jsx)("span",{className:"hint",children:"Dane do wykresu:"}),Object(n.jsx)(_e.DebounceInput,{element:"textarea",forceNotifyByEnter:!1,debounceTimeout:2e3,className:"json",name:"wlasny.dane",onChange:function(a){return s(e,{dane_kolowy:o.csvToNameValueArray(a.target.value)})},value:this.nameValueArrayToCsv(a.dane_kolowy||[])}),Object(n.jsx)("span",{className:"hint",children:"Jednostka osi Y. Je\u015bli zawiera 'tys.' lub 'mln' to zostanie odpowiednio przeliczona:"}),Object(n.jsx)(_e.DebounceInput,{type:"text",name:"wlasny.jednostka",onChange:function(a){return s(e,{jednostka:a.target.value})},value:a.jednostka,debounceTimeout:2e3})]})}return null}},{key:"render",value:function(){var e=this,a=this.props,t=a.dane_gminy,o=a.wykresy,r=this.props,c=r.moveUpWykres,s=r.deleteWykres,l=r.moveDownWykres,d=r.addWykres;return Object(n.jsxs)(i.a.Fragment,{children:[o.map((function(a,r){return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",className:r%2===0?"odd":"even",children:[Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",className:"panelIkon",children:[Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(e){return c(r)},style:{visibility:r>0?"visible":"hidden"},children:Object(n.jsx)(ke.a,{})}),Object(n.jsx)("button",{className:"ikonaWykresu czerwony",onClick:function(e){return s(r)},children:Object(n.jsx)(ze.a,{})}),Object(n.jsx)("button",{className:"ikonaWykresu",onClick:function(e){return l(r)},style:{visibility:r<o.length-1?"visible":"hidden"},children:Object(n.jsx)(ve.a,{})})]}),Object(n.jsx)(b.a,{display:"flex",flexDirection:"column",children:e.renderWykres(r,a,t.kod_gus||"")})]})},r)})),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",className:"panelDodania "+(o.length%2===0?"odd":"even"),children:["Dodaj wykres:",Object(n.jsxs)("button",{className:"ikonaWykresu",onClick:function(a){return d({opis:"Wykres XY|seria1:S:A, seria2:S:A",dane_xy:e.csvToWykresXYDaneArray("2015,24,65\n2016,34,55\n2017,54,35\n2018,74,15\n2019,104,3"),typ_wykresu:"Liniowy (XY)"})},children:[Object(n.jsx)(m.a,{}),Object(n.jsx)(we.a,{})]}),Object(n.jsxs)("button",{className:"ikonaWykresu",onClick:function(a){return d({opis:"Sonda\u017c IBRiS dla RP z 11.01.2021",dane_kolowy:e.csvToNameValueArray("PiS,33.2\nKO,20.6\nPL_2050,12.6\nLewica,7.7\nKonfederacja,6.4\nPSL,5.2"),typ_wykresu:"Ko\u0142owy"})},children:[Object(n.jsx)(m.a,{}),Object(n.jsx)(xe.a,{})]}),Object(n.jsxs)("button",{className:"ikonaWykresu",onClick:function(e){return d({opis:"Emisja zanieczyszcze\u0144 (t/r)|gazowych bez CO2,py\u0142owych:R",gus_ids:"1509,1508",typ_wykresu:"GUS: Liniowy"})},children:[Object(n.jsx)(m.a,{}),"GUS"]})]})]})}}]),t}(i.a.Component),Ne={pobierzDaneGUS:se,moveUpWykres:function(e){return{type:$,payload:{index:e}}},deleteWykres:function(e){return{type:V,payload:{index:e}}},moveDownWykres:function(e){return{type:Q,payload:{index:e}}},setWykres:ie,addWykres:function(e){return{type:Z,payload:{wykres:e}}}},Ae=Object(p.c)((function(e){return{wykresy:e.wykresy,dane_gminy:e.dane_gminy}}),Ne)(Se),Ee=t(506),De=t(507),Ce=t(510),We=t(501),Ie=t(225),Ke=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.enabled,o=e.finishedCallback;return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(Ie.a,{run:a,steps:t.STEPS,continuous:!0,showSkipButton:!0,showProgress:!0,callback:function(e){var a=e.action;"reset"!==a&&"close"!==a||o()},styles:{options:{primaryColor:"#f9c00c"},tooltipContainer:{textAlign:"justify"}},locale:{next:"Dalej",last:"Zamknij",skip:"Pomi\u0144",back:"Wstecz"}})})}}]),t}(i.a.Component);Ke.STEPS=[{target:".prawa",content:"Generator pozwala Ci stworzy\u0107 grafik\u0119 do publikacji w mediach spo\u0142eczno\u015bciowych z danymi z dowolnej gminy",disableBeacon:!0},{target:".acc-ustawienia",content:"Tutaj mo\u017cesz ustawi\u0107 logo (podaj link do publicznie dost\u0119pnej grafiki), wybra\u0107 wojew\xf3dztwo i gmin\u0119 a na koniec pobra\u0107 grafik\u0119 lub link aby podzieli\u0107 si\u0119 projektem z innymi"},{target:".acc-komentarz",content:"W tym miejscu dodasz komentarz (Tw\xf3j, eksperta lub polityka) do infografiki"},{target:".acc-budzet",content:"Tutaj w\u0142\u0105czysz lub wy\u0142\u0105czysz pokazywanie modu\u0142\xf3w dotycz\u0105cych bud\u017cetu danej gminy oraz ustawisz ich opcje"},{target:".acc-wykresy",content:"A tutaj mo\u017cesz doda\u0107 lub usun\u0105\u0107 wykres. Pobierze on automatycznie dane z GUS, albo \u0142atwo mo\u017cesz wklei\u0107 w\u0142asne"},{target:".start-tour",content:"Chcesz skorzysta\u0107 z samouczka jeszcze raz? Kliknij tutaj. Klik, klik"}];t(458);var Re=t(509),Pe=t(18),Le=t(70),Ge=t.n(Le),Ue=t(500),Fe=t(499),Te=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.pobierzDaneGminy,t=e.lista_powiatow,o=e.changeKodGminy,r=e.kod_gminy;return t?Object(n.jsx)(Ge.a,{value:r,onChange:function(e){o(e.value),a(e.value)},options:Array.from(t.values(),(function(e){return{type:"group",name:e.powiat,items:Array.from(e.gminy.values(),(function(e){return{label:e.gmina,value:e.kod_gminy}}))}}))}):Object(n.jsx)(i.a.Fragment,{})}}]),t}(i.a.Component),Ye={pobierzDaneGminy:re,changeKodGminy:je},Me=Object(p.c)((function(e){return{lista_powiatow:e.lista_powiatow,kod_gminy:e.kod_gminy}}),Ye)(Te),Be={gmina:"",typ_gminy:"",grupyDzialy:[],grupyRozdzialy:[]},Xe={podregion:"",zgony:[]},He=["","DOLNO\u015aL\u0104SKIE","KUJAWSKO-POMORSKIE","LUBELSKIE","LUBUSKIE","\u0141\xd3DZKIE","MA\u0141OPOLSKIE","MAZOWIECKIE","OPOLSKIE","PODKARPACKIE","PODLASKIE","POMORSKIE","\u015aL\u0104SKIE","\u015aWI\u0118TOKRZYSKIE","WARMI\u0143SKO-MAZURSKIE","WIELKOPOLSKIE","ZACHODNIOPOMORSKIE"],Je=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.pobierzListePowiatow,t=e.wojewodztwo,o=e.changeWojewodztwo,i=e.changeKodGminy,r=e.changeListaPowiatow,c=e.changeDaneGminy;return Object(n.jsx)(Ge.a,{value:t,onChange:function(e){o(e.value),""!==e.value?a(e.value):(i(""),r([]),c(Be))},options:He})}}]),t}(i.a.Component),Ze={pobierzListePowiatow:ye,changeWojewodztwo:function(e){return{type:X,payload:e}},changeKodGminy:je,changeListaPowiatow:ue,changeDaneGminy:le},Ve=Object(p.c)((function(e){return{wojewodztwo:e.wojewodztwo}}),Ze)(Je),qe=t(7),Qe=t(222),$e=t(83),ea=t(223),aa=t.n(ea),ta=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"postKey",value:function(e,a){var n="https://api.happi.dev/v1/store/infografika.edu.pl/?apikey="+t.HAPPI_API_KEY,o="space=infografika.edu.pl&key="+e+"&value="+a;ne.a.post(n,o).then((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.props.gmina+"-"+(new Date).toLocaleDateString("pl-PL")+".png";return Object(n.jsx)(p.b.Consumer,{children:function(t){var o=t.store;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(Fe.a,{variant:"contained",color:"secondary",style:{margin:"20px"},onClick:function(){var t=o.getState(),n=(t.dane_gminy,t.lista_powiatow,t.dane_podregionu,Object(qe.a)(t,["dane_gminy","lista_powiatow","dane_podregionu"])),i=Object($e.a)(JSON.stringify(n)),r=aa()(window.location.href.split("?")[0]+"?s="+i).slice(4);e.postKey(r,i),document.getElementById("hash").innerText=r,Object(Qe.exportComponentAsPNG)(e.props.componentRef,{fileName:a})},children:"Pobierz plik PNG"}),Object(n.jsx)(Fe.a,{variant:"contained",color:"primary",onClick:function(){var e=o.getState(),a=(e.dane_gminy,e.lista_powiatow,e.dane_podregionu,Object(qe.a)(e,["dane_gminy","lista_powiatow","dane_podregionu"])),t=window.location.href.split("?")[0]+"?s="+Object($e.a)(JSON.stringify(a));navigator.clipboard.writeText(t).then((function(){console.log("Copied to clipboard")}),(function(){console.log("Copy to clipboard failed!!")}))},children:"Skopiuj link do tej infografiki do schowka"})]})}})}}]),t}(i.a.Component);ta.HAPPI_API_KEY="eaa67fSr0cY475zwvjScRDs3Sj9YvPz9LUfsBiVqloMFAL2AyqNpnCxu";var na=Object(p.c)((function(e){return{gmina:e.dane_gminy.gmina,kod_gminy:e.kod_gminy}}),{})(ta),oa=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.changeLogo,t=e.kod_gminy,o=e.gmina;return Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",className:"accordionContent",children:[Object(n.jsx)("span",{className:"hint",children:"Logo w nag\u0142\xf3wku:"}),Object(n.jsx)(Ge.a,{options:ee,value:ee[2],onChange:function(e){return a(e.value)},placeholder:"Wybierz logo..."}),Object(n.jsx)("strong",{children:"Wyb\xf3r Jednostki Samorz\u0105du:"}),Object(n.jsx)("span",{className:"hint",children:"Wojew\xf3dztwo:"}),Object(n.jsx)(Ve,{}),Object(n.jsx)("span",{className:"hint",children:"Gmina:"}),Object(n.jsx)(Me,{}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",className:"accordionContent",children:[Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Fe.a,{target:"_blank",rel:"noreferrer",href:"/panel.html?g=".concat(t,"&n=").concat(o,"&l=0&f=pokaz_ue#"),variant:"outlined",color:"primary",children:"Projekty UE"})}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Fe.a,{target:"_blank",rel:"noreferrer",href:"/panel.html?g=".concat(t,"&n=").concat(o,"&l=0&f=pokaz_sunburst#"),variant:"outlined",color:"primary",children:"Wydatki"})}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Fe.a,{target:"_blank",rel:"noreferrer",href:"/panel.html?g=".concat(t,"&n=").concat(o,"&l=0&f=pokaz_sunburst_dochody#"),variant:"outlined",color:"primary",children:"Dochody"})})]}),Object(n.jsx)(na,{componentRef:this.props.componentRef})]})}}]),t}(i.a.Component),ia={changeLogo:function(e){return{type:P,payload:e}}},ra=Object(p.c)((function(e){return{gmina:e.dane_gminy.gmina,kod_gminy:e.kod_gminy}}),ia)(oa),ca=function(e){Object(j.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).classes=void 0,n.state={pomocOtwarta:!1,tour:!1,componentRef:i.a.createRef()},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"isShown",value:function(e){return this.props.moduly.indexOf(e)>-1}},{key:"renderPomocModal",value:function(){var e=this,a=function(){e.setState({pomocOtwarta:!1})};return Object(n.jsx)(Ee.a,{open:this.state.pomocOtwarta,onClose:a,children:Object(n.jsxs)("div",{className:"modalStyle paper",children:[Object(n.jsxs)("div",{children:["Problem z generowaniem infografiki?",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Napisz do nas: ",Object(n.jsx)("a",{href:"mailto:pomoc@infografika.edu.pl",children:"pomoc@infografika.edu.pl"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)("div",{className:"zamknijPomoc",children:Object(n.jsx)("button",{onClick:function(e){return a()},children:"Zamknij"})})]})})}},{key:"render",value:function(){var e=this,a=this.props,t=a.autor,o=a.cytat,r=a.dzial,c=this.props,l=c.changeAutor,d=c.changeCytat,u=c.changeDzial;return Object(n.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(I,{ref:this.state.componentRef}),Object(n.jsx)("form",{onSubmit:this.handleSubmit,className:"formularzContainer",children:Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",className:"formularz",children:[Object(n.jsx)("div",{id:"warning"}),this.renderPomocModal(),Object(n.jsx)(Ke,{enabled:this.state.tour,finishedCallback:function(){return e.setState(Object(s.a)(Object(s.a)({},e.state),{},{tour:!1}))}}),Object(n.jsx)("a",{className:"start-tour pomocLink",href:"javascript:;",onClick:function(){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{tour:!0}))},children:"otw\xf3rz samouczek"}),Object(n.jsxs)(De.a,{defaultExpanded:!0,className:"acc-ustawienia",children:[Object(n.jsx)(Ce.a,{className:"accordion",expandIcon:Object(n.jsx)(We.a,{}),children:"Ustawienia Infografiki"}),Object(n.jsx)(ra,{componentRef:this.state.componentRef})]}),Object(n.jsxs)(De.a,{defaultExpanded:!0,className:"acc-komentarz",children:[Object(n.jsx)(Ce.a,{className:"accordion",expandIcon:Object(n.jsx)(We.a,{}),children:"Komentarz Eksperta"}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",className:"accordionContent",children:[Object(n.jsx)("span",{className:"hint",children:"Tekst:"}),Object(n.jsx)("textarea",{name:"cytat",onChange:function(e){return d(e.target.value)},value:o}),Object(n.jsx)("span",{className:"hint",children:"Autor:"}),Object(n.jsx)("input",{type:"text",name:"autor",onChange:function(e){return l(e.target.value)},value:t})]})]}),Object(n.jsxs)(De.a,{defaultExpanded:!0,className:"acc-budzet",children:[Object(n.jsx)(Ce.a,{className:"accordion",expandIcon:Object(n.jsx)(We.a,{}),children:"Modu\u0142y Bud\u017cetowe"}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",className:"accordionContent",children:[Object(n.jsx)("span",{className:"hint",children:"Wyb\xf3r modu\u0142\xf3w do wy\u015bwietlenia:"}),Object(n.jsx)(he,{}),this.isShown("rozdzialy")?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("strong",{children:"Number dzia\u0142u do szczeg\xf3\u0142owego wy\u015bwietlenia:"}),Object(n.jsx)("input",{type:"text",name:"dzial",value:r,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("hr",{})]}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("grupy-dzialy")?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("strong",{children:"Podzia\u0142 wydatk\xf3w z grupy na dzia\u0142y:"}),Object(n.jsx)(me,{grupaChangeFn:this.props.changeGrupaDzial}),Object(n.jsx)("hr",{})]}):Object(n.jsx)(i.a.Fragment,{}),this.isShown("grupy-rozdzialy")?Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("strong",{children:"Podzia\u0142 wydatk\xf3w z grupy na rozdzia\u0142y:"}),Object(n.jsx)(me,{grupaChangeFn:this.props.changeGrupaRozdzial}),Object(n.jsx)("hr",{})]}):Object(n.jsx)(i.a.Fragment,{})]})]}),Object(n.jsxs)(De.a,{defaultExpanded:!0,className:"acc-wykresy",children:[Object(n.jsx)(Ce.a,{className:"accordion",expandIcon:Object(n.jsx)(We.a,{}),children:"Wykresy"}),Object(n.jsxs)(b.a,{display:"flex",flexDirection:"column",className:"accordionContent wykresy",children:[Object(n.jsx)(b.a,{children:Object(n.jsx)("strong",{children:Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://bdl.stat.gov.pl/BDL/metadane/cechy/2398#",children:"Dane dost\u0119pne z GUS"})})}),Object(n.jsx)("span",{className:"hint",style:{color:"red"},children:"(Puste wykresy GUS to zwykle awaria ich serwera - ostatnio 3.I.21)"}),Object(n.jsx)(Ae,{})]})]}),Object(n.jsx)("a",{className:"pomocLink",href:"javascript:;",onClick:function(){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{pomocOtwarta:!0}))},children:"pomoc"})]})})]})}},{key:"componentDidMount",value:function(){var e=this;this.props.pobierzListePowiatow(this.props.wojewodztwo,this.props.kod_gminy),setTimeout((function(){return e.setState(Object(s.a)(Object(s.a)({},e.state),{},{tour:!0}))}),5e3),this.resize(),window.addEventListener("resize",this.resize)}},{key:"resize",value:function(){window.innerWidth<800?document.getElementById("root").className="super_male_okno":window.innerWidth<1500?document.getElementById("root").className="male_okno":document.getElementById("root").className=""}}]),t}(i.a.Component),sa={changeAutor:function(e){return{type:L,payload:e}},changeCytat:function(e){return{type:G,payload:e}},changeDzial:function(e){return{type:J,payload:e}},changeGrupaDzial:function(e){return{type:Y,payload:e}},changeGrupaRozdzial:function(e){return{type:M,payload:e}},pobierzListePowiatow:ye},la=Object(p.c)((function(e){return{autor:e.autor,cytat:e.cytat,kod_gminy:e.kod_gminy,logo:e.logo,dane_gminy:e.dane_gminy,wojewodztwo:e.wojewodztwo,lista_powiatow:e.lista_powiatow,moduly:e.moduly,dzial:e.dzial}}),sa)(Object(Pe.a)((function(e){return Object(Re.a)({root:{backgroundColor:"red"}})}),{withTheme:!0})(ca)),da=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,512)).then((function(a){var t=a.getCLS,n=a.getFID,o=a.getFCP,i=a.getLCP,r=a.getTTFB;t(e),n(e),o(e),i(e),r(e)}))},ua=t(17),ja=t(111),ya=function(e){return function(a,t,n){return e((function(e,t){var n,o=performance.now(),i=a(e,t),r=performance.now(),c=(n=r-o,Math.round(100*n)/100);return console.log("reducer process time:",c),i}),t,n)}},pa=function(e){return function(a){return function(t){console.group(t.type),console.info("dispatching",t);var n=a(t);return console.log("next state",e.getState()),console.groupEnd(),n}}},ba=t(38),ha=[{typ_wykresu:"Ko\u0142owy",dane_kolowy:[{name:"Pierwsza warto\u015b\u0107",value:321e3},{name:"Druga warto\u015b\u0107",value:227e3},{name:"Trzecia warto\u015b\u0107",value:146e3},{name:"Czwarta warto\u015b\u0107",value:11e4},{name:"Pi\u0105ta warto\u015b\u0107",value:109e3},{name:"Sz\xf3sta warto\u015b\u0107",value:87e3},{name:"Si\xf3dma warto\u015b\u0107",value:77e3},{name:"\xd3sma warto\u015b\u0107",value:66e3},{name:"Pozosta\u0142e",value:88e3}],opis:"Wykres dla dowolnych danych - zmie\u0144 warto\u015bci w panelu po prawej i zobacz efekt",procent_calosci:100,jednostka:"auto z\u0142"},{typ_wykresu:"Kolumnowy (XY)",opis:"Wykres XY dla dowolnych danych - zmie\u0144 warto\u015bci i zobacz efekt|seria1:S:A, seria2:S:A, seria3:R",dane_xy:[{label:"2015",dane0:24,dane1:65,dane2:1034},{label:"2016",dane0:34,dane1:55,dane2:1234},{label:"2017",dane0:54,dane1:35,dane2:1634},{label:"2018",dane0:74,dane1:15,dane2:2234},{label:"2019",dane0:104,dane1:3,dane2:2234}]},{typ_wykresu:"GUS: Liniowy",opis:"Procent mieszka\u0144c\xf3w pod\u0142\u0105czonych do kanalizacji|miasto,og\xf3\u0142em,wie\u015b",gus_ids:"60308,60309,60310"},{typ_wykresu:"GUS: Liniowy",opis:"Emisja zanieczyszcze\u0144|gazowych bez CO2,py\u0142owych:R",gus_ids:"1509,1508"},{typ_wykresu:"GUS: Liniowy",opis:"Tereny zieleni|parki:S:A,ziele\u0144ce:S:A,ziele\u0144 uliczna:S:A,ziele\u0144 lokalna:S:A,ziele\u0144 osiedlowa:S:A",gus_ids:"73847,73848,73849,73850,73852"},{typ_wykresu:"GUS: Liniowy",opis:"Dzieci, m\u0142odzie\u017c i doro\u015bli wg rodzaju plac\xf3wki:|\u017c\u0142obki,przedszkola,podstawowe,zawodowe,gimnazja,licea",gus_ids:"377227,151864,151867,455415,2394,455392"},{typ_wykresu:"GUS: Liniowy",opis:"Uczniowie przypadaj\u0105cy na 1 oddzia\u0142 w szko\u0142ach:|podstawowych,liceach,zawodowych",gus_ids:"454078,454099,454088"},{typ_wykresu:"GUS: Liniowy",opis:"Etaty nauczycielskie wg rodzaju szko\u0142y:|przedszkola,podstawowe,zawodowe,gimnazja,licea",gus_ids:"288152,377896,378306,378248,378626"}],fa=Object(ba.c)({autor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"np: Jan Kowalski, Prezydent Miasta Krakowa",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case L:return a.payload;default:return e}},cytat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"np: Krak\xf3w w 2019 realizowa\u0142 zr\xf3wnowa\u017con\u0105 polityk\u0119 bud\u017cetow\u0105. Wprawdzie wydatki przewy\u017cszy\u0142y dochody, ale \u015brodki te zosta\u0142y wydane na wk\u0142ad w\u0142asny w projekty inwestycyjne dofinansowane przez UE, kt\xf3re b\u0119d\u0105 procentowa\u0107 w przysz\u0142ych latach.",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case G:return a.payload;default:return e}},kod_gminy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gmina miejska Krak\xf3w",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case B:return a.payload;default:return e}},wojewodztwo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MA\u0141OPOLSKIE",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case X:return a.payload;default:return e}},dane_gminy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case U:return a.payload;default:return e}},logo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee[2].value,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case P:return a.payload;default:return e}},dane_podregionu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case F:return a.payload;default:return e}},lista_powiatow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T:return a.payload;default:return e}},grupa_dzial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Wynagrodzenia i sk\u0142adki",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:return a.payload;default:return e}},grupa_rozdzial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Wynagrodzenia i sk\u0142adki",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case M:return a.payload;default:return e}},wykresy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Z:return void 0===a.payload.wykres?(console.log("Brak wartosci dla ADD_WYKRES"),e):[].concat(Object(ua.a)(e),[a.payload.wykres]);case V:return void 0===a.payload.index?(console.log("Brak indexu dla DELETE_WYKRES"),e):[].concat(Object(ua.a)(e.slice(0,a.payload.index)),Object(ua.a)(e.slice(a.payload.index+1)));case q:return void 0===a.payload.index||void 0===a.payload.wykres?(console.log("Brak indexu lub gus_input dla SET_WYKRES"),e):[].concat(Object(ua.a)(e.slice(0,a.payload.index)),[Object(s.a)(Object(s.a)({},e[a.payload.index]),a.payload.wykres)],Object(ua.a)(e.slice(a.payload.index+1)));case $:return void 0===a.payload.index||a.payload.index<1?(console.log("Brak lub zly indeks dla MOVE_UP_WYKRES"),e):[].concat(Object(ua.a)(e.slice(0,a.payload.index-1)),Object(ua.a)(e.slice(a.payload.index,a.payload.index+1)),Object(ua.a)(e.slice(a.payload.index-1,a.payload.index)),Object(ua.a)(e.slice(a.payload.index+1)));case Q:return void 0===a.payload.index||a.payload.index>e.length-2?(console.log("Brak lub zly indeks dla MOVE_DOWN_WYKRES"),e):[].concat(Object(ua.a)(e.slice(0,a.payload.index)),Object(ua.a)(e.slice(a.payload.index+1,a.payload.index+2)),Object(ua.a)(e.slice(a.payload.index,a.payload.index+1)),Object(ua.a)(e.slice(a.payload.index+2)));default:return e}},moduly:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae.slice(4,7),a=arguments.length>1?arguments[1]:void 0;switch(a.type){case H:return a.payload;default:return e}},dzial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J:return a.payload;default:return e}}});function ma(e){return Object(ja.a)({reducer:fa,middleware:[pa].concat(Object(ua.a)(Object(ja.b)())),preloadedState:e,enhancers:[ya]})}var wa=t(502),ga=t(503),Oa=t(224),xa=Object(Oa.a)({palette:{primary:{500:"#467fcf"}}});document.title="Generator Infografik";var ka,za=function(){return c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsxs)(wa.a,{theme:xa,children:[Object(n.jsx)(ga.a,{}),Object(n.jsx)(p.a,{store:ka,children:Object(n.jsx)(la,{})})]})}),document.getElementById("root"))},va=function(e){var a=JSON.parse(Object($e.b)(e));ka=ma(a)},_a=window.location.search,Sa=new URLSearchParams(_a),Na=void 0;if(void 0!==sessionStorage.redirect?Na=sessionStorage.redirect.split("/")[3].split("?")[0]:Sa.has("p")&&(Na=Sa.get("p")||""),void 0!==Na){var Aa="https://api.happi.dev/v1/store/infografika.edu.pl/"+Na+"?apikey=eaa67fSr0cY475zwvjScRDs3Sj9YvPz9LUfsBiVqloMFAL2AyqNpnCxu";delete sessionStorage.redirect,ne.a.get(Aa).then((function(e){void 0!==e.data.data.value?va(e.data.data.value):(console.log(e.status),console.log(e.statusText),console.log(e.data))})).catch((function(e){console.log(e.status),console.log(e.statusText),console.log(e.data),ka=ma()})).finally((function(){za()}))}if(Sa.has("s")){var Ea=Sa.get("s");va(Ea||""),window.history.pushState({},"Generator Infografik","/"),za()}else void 0===Na&&(ka=ma(),za());da()}},[[464,1,2]]]);
//# sourceMappingURL=main.b0ce25f9.chunk.js.map