(this.webpackJsonpbudget_visualization=this.webpackJsonpbudget_visualization||[]).push([[0],{218:function(e,t,a){},219:function(e,t,a){},414:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(1),o=a.n(i),c=a(52),r=a.n(c),s=(a(218),a(12)),l=a(10),d=a(18),j=a(14),u=a(13),b=(a(219),a(169)),O=a(432),h=a(57),y=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={powiaty:new Map},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.gminaChangeFn,a=e.powiaty;return a?Object(n.jsx)("select",{id:"demo",onChange:function(e){return t(e.target.value)},children:Array.from(a.entries(),(function(e){var t=Object(h.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)("optgroup",{label:a,children:Array.from(i.gminy.entries(),(function(e){var t=Object(h.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)("option",{value:i,children:a},i)}))},a)}))}):Object(n.jsx)(o.a.Fragment,{})}}]),a}(o.a.Component),p=a(430),x=a(431),f=a(425),g=a(426),m=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.dane,t=e.dochody,a=e.wydatki;return Object(n.jsxs)(O.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(f.a,{viewBox:""}),Object(n.jsx)(O.a,{className:"pomaranczowy",children:"Dochody:"}),Object(n.jsx)(O.a,{children:t})]}),Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(g.a,{viewBox:""}),Object(n.jsx)(O.a,{className:"pomaranczowy",children:"Wydatki:"}),Object(n.jsx)(O.a,{children:a})]})]})}}]),a}(o.a.Component),v=a(433),w=a(427),z=a(428),k=a(429),C=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.dotacje_ue,t=e.gmina,a=e.gmina_pc,i=e.powiat,o=e.powiat_pc,c=e.wojewodztwo,r=e.wojewodztwo_pc;return Object(n.jsxs)(O.a,{display:"flex",flexDirection:"column",children:[Object(n.jsx)(O.a,{children:"Dotacje UE od 2014 dla projekt\xf3w realizowanych w:"}),Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(w.a,{viewBox:""}),Object(n.jsx)(O.a,{className:"pomaranczowy",children:"Gminie:"}),"\xa0",Object(n.jsxs)(O.a,{children:[" ",t," (",a," na mieszka\u0144ca)"]})]}),Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(z.a,{viewBox:""}),Object(n.jsx)(O.a,{className:"pomaranczowy",children:"Powiecie:"}),"\xa0",Object(n.jsxs)(O.a,{children:[i," (",o," na mieszka\u0144ca)"]})]}),Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(k.a,{viewBox:""}),Object(n.jsx)(O.a,{className:"pomaranczowy",children:"Wojew\xf3dztwie:"}),"\xa0",Object(n.jsxs)(O.a,{children:[c," (",r," na mieszka\u0144ca)"]})]})]})}}]),a}(o.a.Component),D=a(9),K=a(79),S=a(48),I=a.n(S),E=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={dane:[],kodGus:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.dane;return console.log(e),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(O.a,{children:"Etaty nauczycielskie wg rodzaju szko\u0142y:"}),Object(n.jsxs)(D.e,{syncId:"nauczyciele",width:530,height:250,data:e,margin:{top:5,right:15,left:10,bottom:5},children:[Object(n.jsx)(D.a,{strokeDasharray:"5 5"}),Object(n.jsx)(D.h,{dataKey:"rok"}),Object(n.jsx)(D.i,{}),Object(n.jsx)(D.c,{}),Object(n.jsx)(D.d,{type:"monotone",dataKey:"podstawowe",stroke:"#8884d8"}),Object(n.jsx)(D.d,{type:"monotone",dataKey:"gimnazja",stroke:"#0884d8"}),Object(n.jsx)(D.d,{type:"monotone",dataKey:"zawodowe",stroke:"#080408"}),Object(n.jsx)(D.d,{type:"monotone",dataKey:"licea",stroke:"#82ca9d"})]})]})}},{key:"common",value:function(){var e=this,t={377896:"podstawowe",378306:"zawodowe",378248:"gimnazja",378626:"licea"},a=this.props.kodGus;if(this.state.kodGus!==a){var n="https://bdl.stat.gov.pl/api/v1/data/by-unit/"+a+"?lang=pl";for(var i in t)n+="&var-id="+i;var o=[{rok:2015},{rok:2016},{rok:2017},{rok:2018},{rok:2019}];I.a.get(n).then((function(a){var n,i=Object(K.a)(a.data.results);try{for(i.s();!(n=i.n()).done;){var c,r=n.value,s=Object(K.a)(r.values);try{for(s.s();!(c=s.n()).done;){var l,d=c.value,j=Object(K.a)(o);try{for(j.s();!(l=j.n()).done;){var u=l.value;u.rok===Number.parseInt(d.year)&&(u[t[r.id]]=d.val)}}catch(b){j.e(b)}finally{j.f()}}}catch(b){s.e(b)}finally{s.f()}}}catch(b){i.e(b)}finally{i.f()}console.log(o),e.setState(Object.assign({},e.state,{dane:o,kodGus:e.props.kodGus}))}))}}},{key:"componentDidMount",value:function(){this.common()}},{key:"componentDidUpdate",value:function(){this.common()}}]),a}(o.a.Component),L=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.podregion,a=e.zgony;return console.log(a),Object(n.jsxs)(O.a,{children:[Object(n.jsxs)(O.a,{children:["Podregion ",t,": wszystkie zgony wg. tygodnia:"]}),Object(n.jsxs)(D.e,{syncId:"zgony",width:530,height:250,data:a,margin:{top:5,right:15,left:10,bottom:5},children:[Object(n.jsx)(D.a,{strokeDasharray:"5 5"}),Object(n.jsx)(D.h,{dataKey:"tydzien"}),Object(n.jsx)(D.i,{}),Object(n.jsx)(D.c,{}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2014",stroke:"#92daad"}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2015",stroke:"#82ca9d"}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2016",stroke:"#72ba8d"}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2017",stroke:"#62aa7d"}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2018",stroke:"#529a6d"}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2019",stroke:"#428a5d"}),Object(n.jsx)(D.d,{type:"linear",dot:!1,dataKey:"2020",stroke:"#ff2222"})]})]})}}]),a}(o.a.Component),M=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"renderBudzet",value:function(e){var t;return(null===(t=this.props.selected)||void 0===t?void 0:t.indexOf("budzet"))>-1&&e?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(O.a,{className:"intro",children:["Bud\u017cet za rok ",Object(n.jsx)("strong",{children:"2019"})]}),Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(p.a,{fontSize:"large",className:"icon",viewBox:""}),Object(n.jsx)(m,{dane:e})]}),Object(n.jsx)("br",{})]}):""}},{key:"renderSmieci",value:function(e){var t;return(null===(t=this.props.selected)||void 0===t?void 0:t.indexOf("smieci"))>-1&&e?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(O.a,{className:"intro",children:"Gospodarka Odpadami Komunalnymi"}),Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(x.a,{fontSize:"large",className:"icon",viewBox:""}),Object(n.jsx)(m,{dane:e})]}),Object(n.jsx)("br",{})]}):""}},{key:"render",value:function(){var e=this.props,t=e.cytat,a=e.autor,i=e.selected,c=e.liczbaDzialow,r=e.zgony,s=this.props.dane||{},l=s.gmina,d=s.kod_gus,j=s.ludnosc,u=s.gospodarka_odpadami_komunalnymi,b=s.budzet,h=s.dotacje_ue,y=s.children,p=Number.parseInt(c||"10")||10,x=["#0088FE","#00C49F","#778888","#FF8042","#FFFF33"];return Object(n.jsx)(v.b,{injectFirst:!0,children:Object(n.jsx)("div",{id:"main_section",children:Object(n.jsxs)(O.a,{display:"flex",flexDirection:"column",children:[Object(n.jsxs)(O.a,{className:"intro",children:[l," (",j," mieszka\u0144c\xf3w)"]}),Object(n.jsx)("br",{}),""!==t?Object(n.jsx)(O.a,{className:"intro",children:Object(n.jsx)("i",{children:t})}):"",""!==a?Object(n.jsxs)(O.a,{className:"autor",children:[a,"\xa0\xa0\xa0\xa0\xa0\xa0"]}):"",Object(n.jsx)("br",{}),this.renderBudzet(b),this.renderSmieci(u),(null===i||void 0===i?void 0:i.indexOf("dotacje_ue"))>-1&&h?Object(n.jsx)(C,{dotacje_ue:h}):Object(n.jsx)(o.a.Fragment,{}),(null===i||void 0===i?void 0:i.indexOf("dzialy"))>-1&&y?Object(n.jsxs)(D.g,{width:550,height:Math.max(25*Math.min(p,y.length),200),children:[Object(n.jsx)(D.f,{data:y.slice(0,p),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:20,outerRadius:86,label:!1,startAngle:450,endAngle:90,children:y.map((function(e,t){return Object(n.jsx)(D.b,{fill:x[t%x.length]},"cell-".concat(t))}))}),Object(n.jsx)(D.c,{layout:"vertical",verticalAlign:"top",align:"right"})]}):Object(n.jsx)(o.a.Fragment,{}),(null===i||void 0===i?void 0:i.indexOf("nauczyciele"))>-1&&d?Object(n.jsx)(E,{kodGus:d}):Object(n.jsx)(o.a.Fragment,{}),(null===i||void 0===i?void 0:i.indexOf("zgony"))>-1&&r?Object(n.jsx)(L,{zgony:r.zgony,podregion:r.podregion}):Object(n.jsx)(o.a.Fragment,{})]})})})}}]),a}(o.a.Component),F=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.wojewodztwoChangeFn,a=e.wojewodztwa;return Object(n.jsx)("select",{id:"demo",style:{marginBottom:10},onChange:function(e){return t(e.target.value)},children:a.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})}}]),a}(o.a.Component),A=a(184),P=a.n(A),N=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.moduly,a=e.zmianaModuluFn;return Object(n.jsx)(P.a,{options:t,selected:t,handleOnChange:function(e){return a(e)}})}}]),a}(o.a.Component),B=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).classes=void 0,n.componentRef=void 0,n.wojewodztwa=["DOLNO\u015aL\u0104SKIE","KUJAWSKO-POMORSKIE","LUBELSKIE","LUBUSKIE","\u0141\xd3DZKIE","MA\u0141OPOLSKIE","MAZOWIECKIE","OPOLSKIE","PODKARPACKIE","PODLASKIE","POMORSKIE","\u015aL\u0104SKIE","\u015aWI\u0118TOKRZYSKIE","WARMI\u0143SKO-MAZURSKIE","WIELKOPOLSKIE","ZACHODNIOPOMORSKIE"],n.MODULY=["budzet","smieci","dotacje_ue","dzialy","nauczyciele","zgony"],n.componentRef=o.a.createRef(),n.handleChangeAutor=n.handleChangeAutor.bind(Object(d.a)(n)),n.handleChangeCytat=n.handleChangeCytat.bind(Object(d.a)(n)),n.handleChangeMultiple=n.handleChangeMultiple.bind(Object(d.a)(n)),n.pobierzDaneGminy=n.pobierzDaneGminy.bind(Object(d.a)(n)),n.pobierzListePowiatow=n.pobierzListePowiatow.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.state={cytat:"np: Krak\xf3w w 2019 realizowa\u0142 dobr\u0105 polityk\u0119 bud\u017cetow\u0105. Wprawdzie wydatki przewy\u017cszy\u0142y dochody, ale \u015brodki te zosta\u0142y wydane na wk\u0142ad w\u0142asny w projekty inwestycyjne dofinansowane przez UE, kt\xf3re b\u0119d\u0105 procentowa\u0107 w przysz\u0142ych latach.",autor:"np.: Maciej Pikor, Lider Polska 2050 w Ma\u0142opolsce",select:n.MODULY,liczbaDzialow:"10",zgony:{podregion:"",zgony:[]}},n}return Object(l.a)(a,[{key:"handleChangeAutor",value:function(e){this.setState(Object.assign({},this.state,{autor:e}))}},{key:"handleChangeCytat",value:function(e){this.setState(Object.assign({},this.state,{cytat:e}))}},{key:"handleChangeMultiple",value:function(e){this.setState(Object.assign({},this.state,{select:e}))}},{key:"handleChangeLiczbaDzialow",value:function(e){this.setState(Object.assign({},this.state,{liczbaDzialow:e}))}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.state,a=t.cytat,i=t.autor,o=t.select,c=t.liczbaDzialow,r=t.dane,s=t.powiaty,l=t.zgony,d=this.wojewodztwa;return Object(n.jsxs)(O.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(M,{dane:r,ref:this.componentRef,cytat:a,autor:i,selected:o,liczbaDzialow:c,zgony:l}),Object(n.jsx)("form",{onSubmit:this.handleSubmit,children:Object(n.jsxs)(O.a,{display:"flex",flexDirection:"column",style:{padding:10},children:[Object(n.jsx)("strong",{children:"Wyb\xf3r Jednostki Samorz\u0105du:"}),Object(n.jsx)(F,{wojewodztwa:d,wojewodztwoChangeFn:this.pobierzListePowiatow}),Object(n.jsx)(y,{powiaty:s,gminaChangeFn:this.pobierzDaneGminy}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Komentarz eksperta:"}),Object(n.jsx)("textarea",{name:"cytat",onChange:function(t){return e.handleChangeCytat(t.target.value)},value:a,style:{marginBottom:10}}),Object(n.jsx)("input",{type:"text",name:"autor",onChange:function(t){return e.handleChangeAutor(t.target.value)},value:i}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Elementy grafiki:"}),Object(n.jsx)(N,{moduly:this.MODULY,zmianaModuluFn:this.handleChangeMultiple}),Object(n.jsx)("strong",{children:"Max. liczba dzia\u0142\xf3w na wykresie:"}),Object(n.jsx)("input",{type:"text",name:"liczbaDzialow",onChange:function(t){return e.handleChangeLiczbaDzialow(t.target.value)},value:c,style:{marginBottom:10}}),Object(n.jsx)("button",{onClick:function(){return Object(b.exportComponentAsPNG)(e.componentRef)},children:"Export PNG"})]})})]})}},{key:"pobierzDaneGminy",value:function(e){var t=this,a="/files/"+e+"-panel.json";I.a.get(a).then((function(e){var a=e.data;t.setState(Object.assign({},t.state,{dane:a})),a.podregion_eurostat&&t.pobierzZgony(a.podregion_eurostat)}))}},{key:"pobierzListePowiatow",value:function(e){var t=this,a="/files/"+e.replaceAll("\u015a","S").replaceAll("\u0104","A").replaceAll("\u0143","N").replaceAll("\u0141","L")+".json";I.a.get(a).then((function(e){var a=new Map;for(var n in e.data)if(e.data.hasOwnProperty(n)){var i=new Map;for(var o in e.data[n])e.data[n].hasOwnProperty(o)&&i.set(o,e.data[n][o]);var c={gminy:i};a.set(n,c)}t.setState(Object.assign({},t.state,{powiaty:a}));var r=a.values().next().value.gminy.values().next().value;t.pobierzDaneGminy(r)}))}},{key:"pobierzZgony",value:function(e){var t=this,a="/files/"+e+".json";I.a.get(a).then((function(e){var a=e.data;t.setState(Object.assign({},t.state,{zgony:a}))}))}},{key:"componentDidMount",value:function(){this.pobierzListePowiatow("DOLNO\u015aL\u0104SKIE")}}]),a}(o.a.Component),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,437)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),o(e),c(e)}))};r.a.render(Object(n.jsxs)(o.a.StrictMode,{children:[Object(n.jsx)(B,{}),","]}),document.getElementById("root")),_()}},[[414,1,2]]]);
//# sourceMappingURL=main.b7781e14.chunk.js.map